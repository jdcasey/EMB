<assembly>
  <id>distro</id>
  <formats>
    <format>zip</format>
    <format>tar.gz</format>
    <format>tar.bz2</format>
  </formats>
  <dependencySets>
    <dependencySet>
      <useProjectArtifact>false</useProjectArtifact>
      <outputDirectory>boot</outputDirectory>
      <includes>
        <include>org.codehaus.plexus:plexus-classworlds</include>
      </includes>
    </dependencySet>
    <dependencySet>
      <useProjectArtifact>false</useProjectArtifact>
      <outputDirectory>ext</outputDirectory>
      <includes>
        <include>org.commonjava.emb*</include>
      </includes>
      <excludes>
        <exclude>org.commonjava.emb:emb-distro-commons*</exclude>
      </excludes>
    </dependencySet>
    <dependencySet>
      <useProjectArtifact>false</useProjectArtifact>
      <outputDirectory>lib</outputDirectory>
      <excludes>
        <exclude>org.commonjava.emb.*</exclude>
        <exclude>org.codehaus.plexus:plexus-container-default</exclude>
        <exclude>org.codehaus.plexus:plexus-classworlds</exclude>
        <exclude>junit:junit</exclude>
        <exclude>commons-logging:commons-logging-api</exclude>
      
        <!--exclude>org.codehaus.plexus:plexus-classworlds</exclude>
        <exclude>org.codehaus.plexus:plexus-component-api</exclude>
        <exclude>classworlds:classworlds</exclude>
        <exclude>junit:junit</exclude>
        <exclude>jmock:jmock</exclude>
        <exclude>xml-apis:xml-apis</exclude>
        <exclude>org.apache.maven:apache-maven</exclude>
        <exclude>org.apache.maven:maven-artifact</exclude>
        <exclude>org.apache.maven:maven-monitor</exclude>
        <exclude>org.apache.maven:maven-plugin-descriptor</exclude>
        <exclude>jdom:jdom</exclude>
        <exclude>org.apache.maven:apache-maven</exclude>
        <exclude>bouncycastle:bcprov-jdk15</exclude>
        <exclude>bouncycastle:bcpg-jdk15</exclude>
        <exclude>log4j:log4j</exclude>
        <exclude>org.sonatype.mercury:mercury-mp3-cli</exclude>
        <exclude>commons-logging:commons-logging-api</exclude>
        <exclude>org.slf4j:slf4j-api</exclude>
        <exclude>org.slf4j:slf4j-jdk14</exclude>
        <exclude>org.apache.maven.mercury:mercury-crypto-api</exclude>
        <exclude>org.apache.maven.mercury:mercury-crypto-basic</exclude-->        
      </excludes>
    </dependencySet>
  </dependencySets>
  <fileSets>
    <fileSet>
      <directory>target/commons/bin</directory>
      <outputDirectory>bin</outputDirectory>
      <includes>
        <include>*.bat</include>
        <include>*.conf</include>
      </includes>
      <lineEnding>dos</lineEnding>
    </fileSet>
    <fileSet>
      <directory>target/commons/bin</directory>
      <outputDirectory>bin</outputDirectory>
      <includes>
        <include>build</include>
        <include>buildDebug</include>
        <!-- This is so that CI systems can periodically run the profiler -->
        <include>build-yjp</include>
        
        <include>m2</include>
        <include>mvn</include>
        <include>mvnDebug</include>
        <!-- This is so that CI systems can periodically run the profiler -->
        <include>mvnyjp</include>
      </includes>
      <lineEnding>unix</lineEnding>
      <fileMode>0755</fileMode>
    </fileSet>
    <fileSet>
      <directory>target/commons/conf</directory>
      <outputDirectory>conf</outputDirectory>
    </fileSet>
    <fileSet>
      <includes>
        <include>README*</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>${project.build.directory}/maven-shared-archive-resources/META-INF</directory>
      <outputDirectory>/</outputDirectory>
      <includes>
        <include>README*</include>
        <include>DEPENDENCIES*</include>
        <include>LICENSE*</include>
        <include>NOTICE*</include>
      </includes>
    </fileSet>
  </fileSets>
</assembly>
